<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
<div th:replace="fragments/header :: header"/>
<head>
    <title>Welcome Security with Spring Boot!</title>
</head>
<body>
<div th:replace="fragments/navigation :: navigation"/>
<h1 style="color:blue" >This is your Public Profile </h1>
<h1 style="color:blue" th:each="account :${username}"> Hello! <span th:text="${account}"></span>  </h1>

<!--<ul>
    <li th:each="account :${username}">Hello <span th:text="${account}"></span></li>
</ul>!-->

<p>Date/Time: <span id="datetime"></span></p>


<script>
    var dt = new Date();
    document.getElementById("datetime").innerHTML = dt.toLocaleString();
</script>

<form th:action="@{/upload}" method="post"  enctype="multipart/form-data" accept="image/png,image/jpeg,image/jpg">
        <label>Profile picture</label>
        <!--<img th:each="i :${imagePath}" th:src="${i}"/>1-->
        <img th:src="@{/profilepic}" height="200" width="200"/>
        <div>
            <label >
                Upload new picture
                <input  type="file" class="manual-file-chooser width-full height-full ml-0 js-manual-file-chooser" name = "file"/>
            </label>
        </div>
        <input type="submit" value="Upload" />
    </form>
    <p>
        <label>Bio</label>
        <p>
            <label th:each="am :${aboutme}" th:text="${am}"></label>"
        </p>
    </p>

<p>
    <form action="/updateaboutmebutton" method="GET">
       <!-- Update about me: <input type="text" name="aboutme" maxlength="160"/>!-->
        <input type="submit" value="Update Aboutme"/>
    </form>
</p>


<a style="color:blue" th:href="@{/}">Go to Home Page!</a>
<p>
    <form th:action="@{/logout}" method="post">
    <input type="submit" value="Sign Out"/>
    </form>
</p>


<div th:replace="fragments/footer :: footer"/>

</body>
</html>